# –ò–≥—Ä–∞ "–í—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç" (Lights Out)

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PyQt6.

## üìã –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

**–¶–µ–ª—å:** –í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ª–∞–º–ø–æ—á–∫–∏ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ.

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –ª–∞–º–ø–æ—á–∫—É –º–µ–Ω—è–µ—Ç—Å—è –µ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤–∫–ª—é—á–µ–Ω–∞/–≤—ã–∫–ª—é—á–µ–Ω–∞)
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Å–µ–¥–Ω–∏—Ö –ª–∞–º–ø–æ—á–µ–∫ (—Å–≤–µ—Ä—Ö—É, —Å–Ω–∏–∑—É, —Å–ª–µ–≤–∞, —Å–ø—Ä–∞–≤–∞)
- –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å–µ–¥–∏ –ù–ï –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è
- –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –ª–∞–º–ø–æ—á–∫–∞–º–∏
- –ü–æ–±–µ–¥–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ –ª–∞–º–ø–æ—á–∫–∏ –≤—ã–∫–ª—é—á–µ–Ω—ã

## üéÆ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã

```bash
python main.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Light off/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ main_window.py       # –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ game_logic.py        # –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ ui_components.py     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –¥–∏–∞–ª–æ–≥–∏
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π:

- **`main.py`** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Å–æ–∑–¥–∞–µ—Ç QApplication –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ
- **`main_window.py`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å `MainWindow`, —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ, –º–µ–Ω—é, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- **`game_logic.py`** - –ö–ª–∞—Å—Å `Game` —Å –ª–æ–≥–∏–∫–æ–π –∏–≥—Ä—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–æ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–±–µ–¥—ã
- **`ui_components.py`** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –∫–Ω–æ–ø–∫–∏-–ª–∞–º–ø–æ—á–∫–∏, –¥–∏–∞–ª–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø—Ä–∞–≤–∏–ª
- **`config.py`** - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, HTML —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏—è
–ò–≥—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–±–µ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `is_solved` –≤ –∫–ª–∞—Å—Å–µ `Game`:

```python
@property
def is_solved(self):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, —Ä–µ—à–µ–Ω–∞ –ª–∏ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞"""
    return all(not cell for row in self._grid for cell in row)
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `True`, –µ—Å–ª–∏ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `False` (–≤—ã–∫–ª—é—á–µ–Ω—ã).

### –ì–∞—Ä–∞–Ω—Ç–∏—è —Ä–∞–∑—Ä–µ—à–∏–º–æ—Å—Ç–∏

**–ö–∞–∂–¥–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞ –∏–º–µ–µ—Ç —Ä–µ—à–µ–Ω–∏–µ**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **–ú–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Ö–æ–¥–æ–≤ –∫ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º—É –ø–æ–ª—é
2. **–û–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**: –ö–∞–∂–¥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –ª–∞–º–ø–æ—á–∫—É –º–æ–∂–Ω–æ "–æ—Ç–º–µ–Ω–∏—Ç—å" –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –Ω–∞–∂–∞—Ç–∏–µ–º –Ω–∞ —Ç—É –∂–µ –ø–æ–∑–∏—Ü–∏—é
3. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞**: –û–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–∑—É—é—Ç –≥—Ä—É–ø–ø—É –≤ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ - –µ—Å–ª–∏ –º—ã –º–æ–∂–µ–º –¥–æ–π—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è A –¥–æ B, —Ç–æ –º–æ–∂–µ–º –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ

```python
def generate_puzzle(self):
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏"""
    random_moves = random.randint(self._min_moves, self._max_moves)
    for _ in range(random_moves):
        row = random.randint(0, self._size - 1)
        col = random.randint(0, self._size - 1)
        self._toggle_lights(row, col, count_move=False)
```

## üèóÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

### @property
–ö–ª–∞—Å—Å `Game` –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@property` –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:

```python
@property
def difficulty(self):
    """–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"""
    return self._difficulty

@property
def size(self):
    """–†–∞–∑–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è"""
    return self._size

@property
def grid(self):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è"""
    return self._grid

@property
def moves(self):
    """–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤"""
    return self._moves

@property
def is_solved(self):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, —Ä–µ—à–µ–Ω–∞ –ª–∏ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞"""
    return all(not cell for row in self._grid for cell in row)
```

### @staticmethod
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –∫–ª–∞—Å—Å–æ–º, –Ω–æ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É:

```python
@staticmethod
def get_cell_neighbors(row, col, size):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å–æ—Å–µ–¥–Ω–∏—Ö –∫–ª–µ—Ç–æ–∫"""
    neighbors = [(row, col)]  # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞
    
    for dr, dc in DIRECTIONS:
        new_row, new_col = row + dr, col + dc
        if 0 <= new_row < size and 0 <= new_col < size:
            neighbors.append((new_row, new_col))
    
    return neighbors
```

## üéõÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã

### 1. –§–æ—Ä–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`SettingsDialog`)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `ui_components.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ª–∞–º–ø–æ—á–µ–∫
- –¶–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã —á–µ—Ä–µ–∑ `QColorDialog`
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã

**–î–æ—Å—Ç—É–ø:** –ú–µ–Ω—é "–ò–≥—Ä–∞" ‚Üí "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"

### 2. –§–æ—Ä–º–∞ –ø—Ä–∞–≤–∏–ª (`RulesDialog`)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `ui_components.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- HTML-–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏
- –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

**–î–æ—Å—Ç—É–ø:** –ú–µ–Ω—é "–°–ø—Ä–∞–≤–∫–∞" ‚Üí "–ü—Ä–∞–≤–∏–ª–∞"

**HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∞–≤–∏–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config.py`:**
```python
RULES_HTML = """
<h2>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–í—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç"</h2>
<h3>–¶–µ–ª—å –∏–≥—Ä—ã:</h3>
<p>–í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ª–∞–º–ø–æ—á–∫–∏ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ.</p>
...
"""
```

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (`DifficultySelectionDialog`)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `ui_components.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö–æ–¥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

## üéØ –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```python
DIFFICULTY_LEVELS = {
    '–õ–µ–≥–∫–∏–π': (2, 4),      # 2-4 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–∞
    '–°—Ä–µ–¥–Ω–∏–π': (5, 10),    # 5-10 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
    '–°–ª–æ–∂–Ω—ã–π': (10, 20),   # 10-20 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
    '–≠–∫—Å–ø–µ—Ä—Ç': (20, 30)    # 20-30 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
}
```

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏-–ª–∞–º–ø–æ—á–∫–∏** —Å –∫—Ä—É–≥–ª—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤** —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö–æ–¥–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é** —Å –±—ã—Å—Ç—Ä—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- **–î–∏–∞–ª–æ–≥ –ø–æ–±–µ–¥—ã** —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –Ω–æ–≤–æ–π –∏–≥—Ä—ã –∏–ª–∏ —Å–º–µ–Ω—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- PyQt6
- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: Windows, macOS, Linux

## üé≤ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞

–ò–≥—Ä–∞ "–í—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç" –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ª–∏–Ω–µ–π–Ω–æ–π –∞–ª–≥–µ–±—Ä–µ –Ω–∞–¥ –ø–æ–ª–µ–º Z/2Z (–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –ø–æ –º–æ–¥—É–ª—é 2). –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –≤–µ–∫—Ç–æ—Ä, –∞ –∫–∞–∂–¥—ã–π —Ö–æ–¥ - –∫–∞–∫ –º–∞—Ç—Ä–∏—á–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ª—é–±–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏.